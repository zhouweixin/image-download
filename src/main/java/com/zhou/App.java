package com.zhou;import org.apache.commons.io.IOUtils;import org.jsoup.Connection;import org.jsoup.Jsoup;import java.io.*;import java.util.regex.Matcher;import java.util.regex.Pattern;/** * Hello world! */public class App {    private final String urlFile = "ddimgdb_image(2).txt";    private Pattern pattern = Pattern.compile("images/(.*)/(.*).JPG");    public static void main(String[] args) {        new App().readUrls();    }    public void readUrls(){        try {            FileReader fr = new FileReader(urlFile);            BufferedReader br = new BufferedReader(fr);            br.readLine();            int num = 1;            while(true){                System.out.println("下载第" + (num++) + "张");                String url = br.readLine();                if(url == null){                    break;                }                Matcher matcher = pattern.matcher(url);                if(matcher.find()){                    String subtype = matcher.group(1);                    String name = matcher.group(2) + ".JPG";                    download(url, subtype, name);                }            }            br.close();            fr.close();        } catch (Exception e) {            e.printStackTrace();        }    }    private void download(String url, String subtype, String name) {        String imagePath = "images\\" + subtype + "\\";        String imageName = imagePath + name;        File file = new File(imageName);        if(file.exists()){            System.out.println(imageName + " 已存在, 不需要下载");            return;        }        new File(imagePath).mkdirs();        try {            Connection.Response response = Jsoup.connect(url).ignoreContentType(true).maxBodySize(10000000).timeout(5 * 60000).ignoreHttpErrors(true).execute();            byte[] bytes = response.bodyAsBytes();            FileOutputStream fos = new FileOutputStream(imageName);            IOUtils.write(bytes, fos);            System.out.println("下载成功：" + imageName);            fos.close();        }catch (Exception e){            e.printStackTrace();        }    }}